import{p as L,i as m,s as R,a as N,b as d,e as t,h as n,r as l,o as V,k as r,G as j,F as q,f as J,g as O,t as Q,H as X}from"./index-B-kHOwZx.js";const Y={class:"settings-view"},Z={class:"d-flex flex-column mr-2"},ee={class:"d-flex gap-2 flex-wrap"},le={__name:"SettingsView",setup(te){const p=L(),o=m([{id:"breakfast",name:"Frühstück",order:0},{id:"lunch",name:"Mittagessen",order:1},{id:"dinner",name:"Abendessen",order:2}]),D=["Brotzeit","Snack","Mitnehmen","Kaffee","Dessert"],S=m(2),k=m(7),g=m(""),_=m(!1),v=m(""),h=m(!1);R(()=>{const s=localStorage.getItem("deviceUserName");s&&(g.value=s)});function U(){if(!v.value.trim())return;const s={id:`custom-${Date.now()}`,name:v.value.trim(),order:o.value.length};o.value.push(s),_.value=!1,v.value="",p.showSnackbar("Mahlzeit hinzugefügt")}function B(s){if(o.value.length<=1){p.showSnackbar("Mindestens eine Mahlzeit erforderlich","warning");return}o.value=o.value.filter(e=>e.id!==s.id),o.value.forEach((e,i)=>e.order=i),p.showSnackbar("Mahlzeit entfernt")}function z(s,e){const i=s+e;if(i<0||i>=o.value.length)return;const c=o.value[s];o.value[s]=o.value[i],o.value[i]=c,o.value.forEach((b,f)=>b.order=f)}function E(){localStorage.setItem("deviceUserName",g.value),p.showSnackbar("Einstellungen gespeichert")}function A(){o.value=[{id:"breakfast",name:"Frühstück",order:0},{id:"lunch",name:"Mittagessen",order:1},{id:"dinner",name:"Abendessen",order:2}],S.value=2,k.value=7,p.showSnackbar("Standardwerte wiederhergestellt")}return(s,e)=>{const i=l("v-icon"),c=l("v-card-title"),b=l("v-text-field"),f=l("v-card-text"),w=l("v-card"),M=l("v-spacer"),C=l("v-col"),$=l("v-row"),F=l("v-divider"),u=l("v-btn"),P=l("v-list-item-title"),T=l("v-list-item"),W=l("v-list"),G=l("v-expand-transition"),H=l("v-combobox"),I=l("v-card-actions"),K=l("v-dialog");return V(),N("div",Y,[e[21]||(e[21]=d("h1",{class:"text-h5 font-weight-bold mb-4"},"Einstellungen",-1)),t(w,{variant:"flat",color:"surface",class:"mb-4"},{default:n(()=>[t(c,{class:"d-flex align-center"},{default:n(()=>[t(i,{icon:"mdi-account",class:"mr-2"}),e[8]||(e[8]=r(" Benutzername ",-1))]),_:1}),t(f,null,{default:n(()=>[t(b,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=a=>g.value=a),label:"Name",hint:"Wird für Benachrichtigungen an andere Nutzer verwendet","persistent-hint":"",placeholder:"z.B. Max"},null,8,["modelValue"])]),_:1})]),_:1}),t(w,{variant:"flat",color:"surface",class:"mb-4"},{default:n(()=>[t(c,{class:"d-flex align-center",style:{cursor:"pointer"},onClick:e[1]||(e[1]=a=>h.value=!h.value)},{default:n(()=>[t(i,{icon:"mdi-cog-outline",class:"mr-2"}),e[9]||(e[9]=r(" Erweiterte Einstellungen ",-1)),t(M),t(i,{icon:h.value?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"])]),_:1}),t(G,null,{default:n(()=>[j(t(f,null,{default:n(()=>[e[11]||(e[11]=d("div",{class:"text-subtitle-2 mb-3"},"Standardwerte",-1)),t($,{class:"mb-6"},{default:n(()=>[t(C,{cols:"12",md:"6"},{default:n(()=>[t(b,{modelValue:S.value,"onUpdate:modelValue":e[2]||(e[2]=a=>S.value=a),modelModifiers:{number:!0},label:"Standard-Portionen",type:"number",inputmode:"numeric",min:"1",max:"20",hint:"Wird für neue Gerichte verwendet","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(C,{cols:"12",md:"6"},{default:n(()=>[t(b,{modelValue:k.value,"onUpdate:modelValue":e[3]||(e[3]=a=>k.value=a),modelModifiers:{number:!0},label:"Standard-Haltbarkeit (Tage)",type:"number",inputmode:"numeric",min:"1",hint:"Wird für neue Produkte verwendet","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1}),t(F,{class:"mb-4"}),e[12]||(e[12]=d("div",{class:"text-subtitle-2 mb-3"},"Mahlzeiten pro Tag",-1)),e[13]||(e[13]=d("p",{class:"text-body-2 text-medium-emphasis mb-4"}," Definiere die Mahlzeiten, die du täglich planen möchtest. Die Reihenfolge bestimmt die Anzeige im Planer. ",-1)),t(W,{density:"compact"},{default:n(()=>[(V(!0),N(q,null,J(o.value,(a,x)=>(V(),O(T,{key:a.id},{prepend:n(()=>[d("div",Z,[t(u,{icon:"mdi-chevron-up",variant:"text",size:"x-small",disabled:x===0,onClick:y=>z(x,-1)},null,8,["disabled","onClick"]),t(u,{icon:"mdi-chevron-down",variant:"text",size:"x-small",disabled:x===o.value.length-1,onClick:y=>z(x,1)},null,8,["disabled","onClick"])])]),append:n(()=>[t(u,{icon:"mdi-delete",variant:"text",size:"small",color:"error",onClick:y=>B(a)},null,8,["onClick"])]),default:n(()=>[t(P,null,{default:n(()=>[r(Q(a.name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(u,{variant:"tonal",color:"primary",class:"mt-2",onClick:e[4]||(e[4]=a=>_.value=!0)},{default:n(()=>[t(i,{start:"",icon:"mdi-plus"}),e[10]||(e[10]=r(" Mahlzeit hinzufügen ",-1))]),_:1})]),_:1},512),[[X,h.value]])]),_:1})]),_:1}),t(w,{variant:"flat",color:"surface",class:"mb-4"},{default:n(()=>[t(c,{class:"d-flex align-center"},{default:n(()=>[t(i,{icon:"mdi-information-outline",class:"mr-2"}),e[14]||(e[14]=r(" Über Schompf ",-1))]),_:1}),t(f,null,{default:n(()=>[...e[15]||(e[15]=[d("p",{class:"text-body-2 mb-2"},[d("strong",null,"Version:"),r(" 1.0.0 (MVP) ")],-1),d("p",{class:"text-body-2 text-medium-emphasis"}," Schompf hilft dir bei der Mahlzeitenplanung und erstellt automatisch Einkaufslisten aus deinen geplanten Gerichten. ",-1)])]),_:1})]),_:1}),d("div",ee,[t(u,{color:"primary",onClick:E},{default:n(()=>[t(i,{start:"",icon:"mdi-content-save"}),e[16]||(e[16]=r(" Speichern ",-1))]),_:1}),t(u,{variant:"outlined",onClick:A},{default:n(()=>[...e[17]||(e[17]=[r(" Standardwerte ",-1)])]),_:1})]),t(K,{modelValue:_.value,"onUpdate:modelValue":e[7]||(e[7]=a=>_.value=a),"max-width":"400"},{default:n(()=>[t(w,null,{default:n(()=>[t(c,null,{default:n(()=>[...e[18]||(e[18]=[r("Mahlzeit hinzufügen",-1)])]),_:1}),t(f,null,{default:n(()=>[t(H,{modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=a=>v.value=a),items:D,label:"Name",autofocus:"",hint:"Wähle einen Vorschlag oder gib einen eigenen Namen ein","persistent-hint":""},null,8,["modelValue"])]),_:1}),t(I,null,{default:n(()=>[t(M),t(u,{variant:"text",onClick:e[6]||(e[6]=a=>_.value=!1)},{default:n(()=>[...e[19]||(e[19]=[r("Abbrechen",-1)])]),_:1}),t(u,{color:"primary",onClick:U,disabled:!v.value},{default:n(()=>[...e[20]||(e[20]=[r(" Hinzufügen ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};export{le as default};
