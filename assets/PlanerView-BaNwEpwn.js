import{c as I,r as o,a as c,o as n,b as C,F as x,d as M,n as le,e as d,f as t,g as H,t as _,w as Re,h as a,i as b,j as ke,k as i,u as He,l as Ke,m as Ze,p as je,q as ye,s as Ge}from"./index-Ckjzomrf.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ye={class:"meal-slot"},qe=["onClick"],Oe={class:"meal-content"},Je={class:"d-flex align-center gap-1"},Qe={class:"meal-name"},Xe={key:0,class:"meal-servings"},et={__name:"MealSlot",props:{meals:{type:Array,default:()=>[]},date:String,slotId:String,slotName:String},emits:["add","edit","delete"],setup(K,{emit:$}){const A=K,p=$,z=I(()=>A.meals.length>0);return(E,y)=>{const k=o("v-icon"),h=o("v-btn");return n(),c("div",Ye,[(n(!0),c(x,null,M(K.meals,m=>(n(),c("div",{key:m.id,class:le(["meal-item",{"meal-committed":m.committed}]),onClick:g=>p("edit",m)},[d("div",Oe,[d("div",Je,[d("span",Qe,_(m.dishName||"Leer"),1),m.committed?(n(),C(k,{key:0,icon:"mdi-cart-check",size:"x-small",class:"committed-icon"})):H("",!0)]),m.servings?(n(),c("span",Xe,_(m.servings)+" Portionen ",1)):H("",!0)]),t(h,{icon:"mdi-close",size:"x-small",variant:"text",density:"compact",class:"delete-btn",onClick:Re(g=>p("delete",m),["stop"])},null,8,["onClick"])],10,qe))),128)),z.value?(n(),C(h,{key:1,variant:"text",size:"x-small",color:"primary",density:"compact",class:"add-more-btn",onClick:y[1]||(y[1]=m=>p("add"))},{default:a(()=>[t(k,{icon:"mdi-plus",size:"x-small"})]),_:1})):(n(),C(h,{key:0,variant:"text",size:"small",color:"primary",class:"add-btn",onClick:y[0]||(y[0]=m=>p("add"))},{default:a(()=>[t(k,{icon:"mdi-plus",size:"small"})]),_:1}))])}}},be=me(et,[["__scopeId","data-v-463869fc"]]),tt={class:"d-flex gap-2 mb-3"},lt={key:1,class:"text-center py-4"},at={class:"text-h6 mb-1"},nt={class:"text-body-2 text-medium-emphasis mb-4"},st={class:"d-flex justify-center gap-2"},ot={__name:"DishSelector",props:{modelValue:Boolean,dishes:{type:Array,default:()=>[]}},emits:["update:modelValue","select"],setup(K,{emit:$}){const A=K,p=$,z=b(""),E=b("all"),y=b(null),k=b(2),h=[{value:"all",title:"Alle"},{value:"dish",title:"Gerichte"},{value:"eating_out",title:"Auswärts"}],m=I(()=>{let w=A.dishes;if(E.value!=="all"&&(w=w.filter(s=>s.type===E.value)),z.value){const s=z.value.toLowerCase();w=w.filter(V=>V.name.toLowerCase().includes(s))}return[...w].sort((s,V)=>s.name.localeCompare(V.name))});function g(w){if(w.type==="eating_out"){p("select",{dish:w,servings:0}),p("update:modelValue",!1);return}y.value=w,k.value=w?.defaultServings||2}function Z(){p("select",{dish:y.value,servings:k.value}),p("update:modelValue",!1)}function T(){y.value=null}function W(){p("update:modelValue",!1)}return ke(()=>A.modelValue,w=>{w&&(z.value="",E.value="all",y.value=null)}),(w,s)=>{const V=o("v-spacer"),S=o("v-btn"),L=o("v-card-title"),U=o("v-text-field"),F=o("v-icon"),q=o("v-chip"),O=o("v-chip-group"),J=o("v-list-item"),Y=o("v-list-item-title"),ae=o("v-list"),j=o("v-card-text"),Q=o("v-card"),X=o("v-dialog");return n(),C(X,{"model-value":K.modelValue,"onUpdate:modelValue":s[6]||(s[6]=v=>p("update:modelValue",v)),"max-width":"500",scrollable:""},{default:a(()=>[t(Q,null,{default:a(()=>[t(L,{class:"d-flex align-center pa-4 pb-2"},{default:a(()=>[s[7]||(s[7]=d("span",null,"Gericht wählen",-1)),t(V),t(S,{icon:"mdi-close",variant:"text",size:"small",onClick:W})]),_:1}),t(j,{class:"pa-4 pt-0"},{default:a(()=>[y.value?(n(),c("div",lt,[t(F,{icon:y.value.type==="eating_out"?"mdi-food-takeout-box":"mdi-food",size:"48",color:"primary",class:"mb-3"},null,8,["icon"]),d("div",at,_(y.value.name),1),d("div",nt," Standard: "+_(y.value.defaultServings)+" Portionen ",1),t(U,{modelValue:k.value,"onUpdate:modelValue":s[5]||(s[5]=v=>k.value=v),modelModifiers:{number:!0},label:"Portionen",type:"number",min:"1",max:"20",style:{"min-width":"200px","max-width":"200px",margin:"0 auto"},"hide-details":"",class:"mb-4",autofocus:""},{prepend:a(()=>[t(S,{icon:"mdi-minus",size:"small",variant:"text",disabled:k.value<=1,onClick:s[3]||(s[3]=v=>k.value--)},null,8,["disabled"])]),append:a(()=>[t(S,{icon:"mdi-plus",size:"small",variant:"text",disabled:k.value>=20,onClick:s[4]||(s[4]=v=>k.value++)},null,8,["disabled"])]),_:1},8,["modelValue"]),d("div",st,[t(S,{variant:"text",onClick:T},{default:a(()=>[t(F,{start:"",icon:"mdi-arrow-left"}),s[10]||(s[10]=i(" Zurück ",-1))]),_:1}),t(S,{color:"primary",onClick:Z},{default:a(()=>[t(F,{start:"",icon:"mdi-check"}),s[11]||(s[11]=i(" Hinzufügen ",-1))]),_:1})])])):(n(),c(x,{key:0},[t(U,{modelValue:z.value,"onUpdate:modelValue":s[0]||(s[0]=v=>z.value=v),"prepend-inner-icon":"mdi-magnify",label:"Suchen...",clearable:"","hide-details":"",class:"mb-3"},null,8,["modelValue"]),d("div",tt,[t(q,{variant:"outlined",color:"accent",onClick:s[1]||(s[1]=v=>g({id:"eating_out",type:"eating_out",name:"Auswärts essen"}))},{default:a(()=>[t(F,{start:"",icon:"mdi-food-takeout-box"}),s[8]||(s[8]=i(" Auswärts ",-1))]),_:1})]),t(O,{modelValue:E.value,"onUpdate:modelValue":s[2]||(s[2]=v=>E.value=v),"selected-class":"bg-primary text-white",mandatory:"",class:"mb-3"},{default:a(()=>[(n(),c(x,null,M(h,v=>t(q,{key:v.value,value:v.value,variant:"outlined",size:"small"},{default:a(()=>[i(_(v.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),t(ae,{density:"compact",class:"dish-list"},{default:a(()=>[(n(!0),c(x,null,M(m.value,v=>(n(),C(J,{key:v.id,title:v.name,subtitle:`${v.defaultServings} Portionen`,onClick:P=>g(v)},{prepend:a(()=>[t(F,{icon:v.type==="eating_out"?"mdi-food-takeout-box":"mdi-food",color:v.type==="eating_out"?"accent":"primary"},null,8,["icon","color"])]),append:a(()=>[t(F,{icon:"mdi-chevron-right",size:"small"})]),_:2},1032,["title","subtitle","onClick"]))),128)),m.value.length===0?(n(),C(J,{key:0},{default:a(()=>[t(Y,{class:"text-medium-emphasis text-center"},{default:a(()=>[...s[9]||(s[9]=[i(" Keine Gerichte gefunden ",-1)])]),_:1})]),_:1})):H("",!0)]),_:1})],64))]),_:1})]),_:1})]),_:1},8,["model-value"])}}},it=me(ot,[["__scopeId","data-v-3c18f68c"]]),dt={class:"planer-view"},rt={class:"d-flex align-center justify-center mb-2"},ut={class:"text-body-2 font-weight-medium"},ct={class:"d-flex align-center justify-space-between"},mt={class:"d-flex gap-2 align-center"},vt={key:0,class:"mobile-planer"},ft={class:"week-divider d-flex align-center my-2"},pt={class:"text-body-1 font-weight-bold"},_t={class:"text-body-1 ml-2"},gt={class:"slot-label-mobile text-caption text-medium-emphasis d-flex align-center",style:{"min-width":"110px","flex-shrink":"0"}},wt={style:{"white-space":"nowrap"}},ht={class:"flex-grow-1"},yt={key:1,class:"desktop-planer"},bt={class:"week-divider d-flex align-center my-3"},kt={class:"week-grid-wrapper"},Dt={class:"week-grid"},xt={class:"day-name"},St={class:"day-number"},zt={class:"slot-label"},Vt={style:{"white-space":"nowrap"}},Mt={class:"mb-3"},Ct={__name:"PlanerView",setup(K){const $=He(),A=Ke(),p=Ze(),z=je(),E=new Date;E.setHours(0,0,0,0);const y=new Date(E);y.setDate(y.getDate()-3);const k=new Date(E);k.setDate(k.getDate()+3);const h=b(y),m=b(k),g=b(null),Z=b(!1),T=b(!1),W=b(!1),w=b(!1),s=b(!1),V=b(null),S=b(null),L=b(null),U=b(null),F=b(window.innerWidth),q=I(()=>F.value<600);ye(()=>{window.addEventListener("resize",()=>{F.value=window.innerWidth}),se()});const O=[{id:"breakfast",name:"Frühstück",icon:"mdi-coffee"},{id:"lunch",name:"Mittagessen",icon:"mdi-food"},{id:"dinner",name:"Abendessen",icon:"mdi-food-variant"}],J=I(()=>{const l=[],e=new Date(h.value),f=new Date(m.value);for(;e<=f;)l.push({date:P(e),dayName:De(e),dayNameFull:xe(e),dayNumber:e.getDate(),month:e.getMonth()+1,isToday:Se(e),isPast:ze(e),isMonday:e.getDay()===1,weekNumber:Ve(e)}),e.setDate(e.getDate()+1);return l}),Y=I(()=>{const l=new Map;for(const e of J.value){const f=`${e.date.substring(0,4)}-W${e.weekNumber}`;l.has(f)||l.set(f,{weekNumber:e.weekNumber,days:[]}),l.get(f).days.push(e)}return Array.from(l.values())}),ae=I(()=>`${ve(h.value)} – ${ve(m.value)}`);I(()=>Y.value.length);const j=I(()=>$.meals.filter(l=>l.date>=P(h.value)&&l.date<=P(m.value)&&l.dishId&&!l.committed)),Q=I(()=>j.value.length),X=I(()=>{if(j.value.length===0)return{from:null,to:null};const l=j.value.map(e=>e.date).sort();return{from:l[0],to:l[l.length-1]}}),v=I(()=>!S.value||!L.value?[]:j.value.filter(l=>l.date>=S.value&&l.date<=L.value));function P(l){return l.toISOString().split("T")[0]}function ve(l){const e=new Date(l);return`${e.getDate()}.${e.getMonth()+1}.${e.getFullYear()}`}function De(l){return["So","Mo","Di","Mi","Do","Fr","Sa"][l.getDay()]}function xe(l){return["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"][l.getDay()]}function Se(l){const e=new Date;return l.toDateString()===e.toDateString()}function ze(l){const e=new Date;return e.setHours(0,0,0,0),l<e}function Ve(l){const e=new Date(l);e.setHours(0,0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));const f=new Date(e.getFullYear(),0,1);return Math.ceil(((e-f)/864e5+1)/7)}function Me(){const l=new Date(h.value);l.setDate(l.getDate()-7);const e=new Date(m.value);e.setDate(e.getDate()-7),h.value=l,m.value=e}function Ce(){const l=new Date(h.value);l.setDate(l.getDate()+7);const e=new Date(m.value);e.setDate(e.getDate()+7),h.value=l,m.value=e}function $e(){const l=new Date(h.value);l.setDate(l.getDate()-7),h.value=l}function Ne(){const l=new Date(m.value);l.setDate(l.getDate()+7),m.value=l}function Ie(){const l=new Date;l.setHours(0,0,0,0);const e=new Date(l);e.setDate(e.getDate()-3);const f=new Date(l);f.setDate(f.getDate()+3),h.value=e,m.value=f}function fe(l,e){return $.getMealsForDate(l).filter(f=>f.slotId===e)}function pe(l,e,f){g.value={date:l,slotId:e,slotName:f,isNew:!0},T.value=!0}async function _e(l){if(g.value={...l,isNew:!1},l.committed){if(Z.value=!1,l.dishId)try{const e=await A.fetchDish(l.dishId);Z.value=!!e?.recipeUrl}catch{}s.value=!0}else T.value=!0}function Ee(){s.value=!1,T.value=!0}async function Le(){if(!g.value?.dishId){p.showSnackbar("Kein Rezept verfügbar","warning");return}try{const l=await A.fetchDish(g.value.dishId);l?.recipeUrl?(window.open(l.recipeUrl,"_blank"),s.value=!1):p.showSnackbar("Kein Rezept-Link hinterlegt","warning")}catch{p.showSnackbar("Fehler beim Laden des Rezepts","error")}}async function Fe({dish:l,servings:e}){try{g.value.isNew?(await $.createMeal({date:g.value.date,slotId:g.value.slotId,slotName:g.value.slotName,dishId:l?.id||null,servings:e||2}),p.showSnackbar("Mahlzeit hinzugefügt")):(await $.updateMeal(g.value.id,{dishId:l?.id||null,servings:e||g.value.servings}),p.showSnackbar("Mahlzeit aktualisiert"))}catch{p.showSnackbar("Fehler beim Speichern","error")}T.value=!1}function ne(l){l.committed?(V.value=l,w.value=!0):(V.value=l,ge())}async function ge(){try{if(!V.value)return;await $.deleteMeal(V.value.id),p.showSnackbar("Mahlzeit gelöscht"),w.value=!1,V.value=null}catch{p.showSnackbar("Fehler beim Löschen","error")}}async function se(){const l=P(h.value),e=P(m.value);await Promise.all([$.fetchMeals(l,e),A.fetchDishes()])}function Ae(){S.value=X.value.from,L.value=X.value.to,U.value=P(new Date),W.value=!0}async function Te(){try{if(!S.value||!L.value){p.showSnackbar("Bitte wähle einen Zeitraum","warning");return}if(!U.value){p.showSnackbar("Bitte wähle ein Einkaufsdatum","warning");return}if(v.value.length===0){p.showSnackbar("Keine Mahlzeiten im gewählten Zeitraum","warning");return}await z.generateList(S.value,L.value,U.value),z.shoppingList?.mealIds?.length>0&&(await $.commitMeals(z.shoppingList.mealIds),p.showSnackbar(`${z.shoppingList.mealIds.length} Mahlzeiten zur Einkaufsliste hinzugefügt`)),W.value=!1}catch{p.showSnackbar("Fehler beim Erstellen der Einkaufsliste","error")}}return ke([h,m],se),ye(()=>{window.addEventListener("resize",()=>{F.value=window.innerWidth}),se()}),(l,e)=>{const f=o("v-icon"),N=o("v-btn"),B=o("v-card-text"),R=o("v-card"),G=o("v-divider"),oe=o("v-chip"),ee=o("v-card-title"),ie=o("v-text-field"),te=o("v-alert"),de=o("v-spacer"),we=o("v-card-actions"),he=o("v-dialog"),re=o("v-list-item-title"),ue=o("v-list-item-subtitle"),ce=o("v-list-item"),Ue=o("v-list"),We=o("v-bottom-sheet"),Pe=o("v-badge");return n(),c("div",dt,[t(R,{class:"mb-4 sticky-nav",variant:"flat",color:"surface"},{default:a(()=>[t(B,{class:"pa-3"},{default:a(()=>[d("div",rt,[d("span",ut,_(ae.value),1)]),d("div",ct,[t(N,{variant:"text",size:"small",onClick:Me},{default:a(()=>[t(f,{start:"",icon:"mdi-chevron-left"}),e[11]||(e[11]=i(" Vorherige ",-1))]),_:1}),d("div",mt,[t(N,{variant:"tonal",color:"primary",size:"small",onClick:Ie},{default:a(()=>[...e[12]||(e[12]=[i(" Heute ",-1)])]),_:1})]),t(N,{variant:"text",size:"small",onClick:Ce},{default:a(()=>[e[13]||(e[13]=i(" Nächste ",-1)),t(f,{end:"",icon:"mdi-chevron-right"})]),_:1})])]),_:1})]),_:1}),t(R,{class:"mb-4",variant:"flat",color:"surface"},{default:a(()=>[t(B,{class:"pa-2"},{default:a(()=>[t(N,{block:"",variant:"tonal",color:"primary",onClick:$e},{default:a(()=>[t(f,{start:"",icon:"mdi-chevron-up"}),e[14]||(e[14]=i(" Frühere Tage anzeigen ",-1))]),_:1})]),_:1})]),_:1}),q.value?(n(),c("div",vt,[(n(!0),c(x,null,M(Y.value,u=>(n(),c(x,{key:u.weekNumber},[d("div",ft,[t(G,{class:"flex-grow-1"}),t(oe,{size:"small",variant:"outlined",class:"mx-2",style:{"min-width":"60px"}},{default:a(()=>[i(" KW "+_(u.weekNumber),1)]),_:2},1024),t(G,{class:"flex-grow-1"})]),(n(!0),c(x,null,M(u.days,r=>(n(),C(R,{key:r.date,class:"mb-3",variant:"flat",color:"surface"},{default:a(()=>[t(ee,{class:le(["d-flex align-center py-2 px-3",{"bg-primary text-white":r.isToday}])},{default:a(()=>[d("span",pt,_(r.dayNameFull),1),d("span",_t,_(r.dayNumber)+"."+_(r.month)+".",1),r.isToday?(n(),C(oe,{key:0,size:"x-small",color:"white",variant:"outlined",class:"ml-2"},{default:a(()=>[...e[15]||(e[15]=[i(" Heute ",-1)])]),_:1})):H("",!0)]),_:2},1032,["class"]),t(G),t(B,{class:"pa-2"},{default:a(()=>[(n(),c(x,null,M(O,D=>d("div",{key:`${r.date}-${D.id}`,class:"mobile-meal-row d-flex align-center py-2"},[d("div",gt,[t(f,{icon:D.icon,size:"small",class:"mr-1"},null,8,["icon"]),d("span",wt,_(D.name),1)]),d("div",ht,[t(be,{meals:fe(r.date,D.id),date:r.date,"slot-id":D.id,"slot-name":D.name,onAdd:Be=>pe(r.date,D.id,D.name),onEdit:_e,onDelete:ne},null,8,["meals","date","slot-id","slot-name","onAdd"])])])),64))]),_:2},1024)]),_:2},1024))),128))],64))),128))])):(n(),c("div",yt,[(n(!0),c(x,null,M(Y.value,u=>(n(),c(x,{key:u.weekNumber},[d("div",bt,[t(G,{class:"flex-grow-1"}),t(oe,{size:"small",variant:"tonal",color:"primary",class:"mx-3"},{default:a(()=>[i(" Kalenderwoche "+_(u.weekNumber),1)]),_:2},1024),t(G,{class:"flex-grow-1"})]),d("div",kt,[d("div",Dt,[e[16]||(e[16]=d("div",{class:"day-header empty-cell"},null,-1)),(n(!0),c(x,null,M(u.days,r=>(n(),c("div",{key:r.date,class:le(["day-header",{today:r.isToday,past:r.isPast}])},[d("span",xt,_(r.dayName),1),d("span",St,_(r.dayNumber)+"."+_(r.month)+".",1)],2))),128)),(n(!0),c(x,null,M(7-u.days.length,r=>(n(),c("div",{key:"empty-header-"+r,class:"day-header empty-day"}))),128)),(n(),c(x,null,M(O,r=>(n(),c(x,{key:r.id},[d("div",zt,[t(f,{icon:r.icon,size:"small",class:"mr-1",style:{"flex-shrink":"0"}},null,8,["icon"]),d("span",Vt,_(r.name),1)]),(n(!0),c(x,null,M(u.days,D=>(n(),c("div",{key:`${D.date}-${r.id}`,class:le(["meal-cell",{past:D.isPast}])},[t(be,{meals:fe(D.date,r.id),date:D.date,"slot-id":r.id,"slot-name":r.name,onAdd:Be=>pe(D.date,r.id,r.name),onEdit:_e,onDelete:ne},null,8,["meals","date","slot-id","slot-name","onAdd"])],2))),128)),(n(!0),c(x,null,M(7-u.days.length,D=>(n(),c("div",{key:"empty-cell-"+r.id+"-"+D,class:"meal-cell empty-day"}))),128))],64))),64))])])],64))),128))])),t(R,{class:"mt-4",variant:"flat",color:"surface"},{default:a(()=>[t(B,{class:"pa-2"},{default:a(()=>[t(N,{block:"",variant:"tonal",color:"primary",onClick:Ne},{default:a(()=>[t(f,{start:"",icon:"mdi-chevron-down"}),e[17]||(e[17]=i(" Spätere Tage anzeigen ",-1))]),_:1})]),_:1})]),_:1}),t(it,{modelValue:T.value,"onUpdate:modelValue":e[0]||(e[0]=u=>T.value=u),dishes:Ge(A).dishes,onSelect:Fe},null,8,["modelValue","dishes"]),t(he,{modelValue:W.value,"onUpdate:modelValue":e[5]||(e[5]=u=>W.value=u),"max-width":"500"},{default:a(()=>[t(R,null,{default:a(()=>[t(ee,null,{default:a(()=>[...e[18]||(e[18]=[i("Einkaufsliste erstellen",-1)])]),_:1}),t(B,null,{default:a(()=>[e[22]||(e[22]=d("p",{class:"mb-3"}," Wähle den Zeitraum für die Einkaufsliste: ",-1)),t(ie,{modelValue:S.value,"onUpdate:modelValue":e[1]||(e[1]=u=>S.value=u),label:"Von",type:"date",class:"mb-3"},null,8,["modelValue"]),t(ie,{modelValue:L.value,"onUpdate:modelValue":e[2]||(e[2]=u=>L.value=u),label:"Bis",type:"date",class:"mb-3"},null,8,["modelValue"]),t(ie,{modelValue:U.value,"onUpdate:modelValue":e[3]||(e[3]=u=>U.value=u),label:"Einkaufsdatum",type:"date",class:"mb-3",hint:"Wann möchtest du einkaufen gehen?","persistent-hint":""},null,8,["modelValue"]),v.value.length>0?(n(),C(te,{key:0,type:"success",variant:"tonal",density:"compact",class:"mb-3"},{default:a(()=>[d("strong",null,_(v.value.length)+" Mahlzeit(en)",1),e[19]||(e[19]=i(" werden hinzugefügt ",-1))]),_:1})):S.value&&L.value?(n(),C(te,{key:1,type:"warning",variant:"tonal",density:"compact",class:"mb-3"},{default:a(()=>[...e[20]||(e[20]=[i(" Keine Mahlzeiten im gewählten Zeitraum ",-1)])]),_:1})):H("",!0),t(te,{type:"info",variant:"tonal",density:"compact"},{default:a(()=>[...e[21]||(e[21]=[i(' Die ausgewählten Mahlzeiten werden als "zur Einkaufsliste hinzugefügt" markiert. Bereits vorhandene Artikel in der Liste bleiben erhalten. ',-1)])]),_:1})]),_:1}),t(we,null,{default:a(()=>[t(de),t(N,{variant:"text",onClick:e[4]||(e[4]=u=>W.value=!1)},{default:a(()=>[...e[23]||(e[23]=[i("Abbrechen",-1)])]),_:1}),t(N,{color:"success",disabled:v.value.length===0,onClick:Te},{default:a(()=>[t(f,{start:"",icon:"mdi-cart-plus"}),e[24]||(e[24]=i(" Hinzufügen ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(he,{modelValue:w.value,"onUpdate:modelValue":e[7]||(e[7]=u=>w.value=u),"max-width":"500"},{default:a(()=>[t(R,null,{default:a(()=>[t(ee,null,{default:a(()=>[...e[25]||(e[25]=[i("Mahlzeit löschen?",-1)])]),_:1}),t(B,null,{default:a(()=>[d("p",Mt,[d("strong",null,_(V.value?.dishName),1),e[26]||(e[26]=i(" wurde bereits zur Einkaufsliste hinzugefügt. ",-1))]),t(te,{type:"warning",variant:"tonal",density:"compact"},{default:a(()=>[...e[27]||(e[27]=[i(" Die Zutaten bleiben auf der Einkaufsliste, auch wenn du diese Mahlzeit löschst. ",-1)])]),_:1})]),_:1}),t(we,null,{default:a(()=>[t(de),t(N,{variant:"text",onClick:e[6]||(e[6]=u=>w.value=!1)},{default:a(()=>[...e[28]||(e[28]=[i("Abbrechen",-1)])]),_:1}),t(N,{color:"error",onClick:ge},{default:a(()=>[...e[29]||(e[29]=[i(" Trotzdem löschen ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(We,{modelValue:s.value,"onUpdate:modelValue":e[10]||(e[10]=u=>s.value=u),"max-width":"500"},{default:a(()=>[t(R,null,{default:a(()=>[t(ee,{class:"d-flex align-center pa-4"},{default:a(()=>[t(f,{icon:g.value?.dishId?"mdi-food":"mdi-silverware-fork-knife",class:"mr-2"},null,8,["icon"]),i(" "+_(g.value?.dishName||"Leer")+" ",1),t(de),t(N,{icon:"mdi-close",variant:"text",size:"small",onClick:e[8]||(e[8]=u=>s.value=!1)})]),_:1}),t(B,{class:"pa-2"},{default:a(()=>[t(Ue,{density:"compact"},{default:a(()=>[t(ce,{onClick:Ee,"prepend-icon":"mdi-pencil"},{default:a(()=>[t(re,null,{default:a(()=>[...e[30]||(e[30]=[i("Mahlzeit bearbeiten",-1)])]),_:1}),t(ue,null,{default:a(()=>[...e[31]||(e[31]=[i("Gericht oder Portionen ändern",-1)])]),_:1})]),_:1}),g.value?.dishId?(n(),C(ce,{key:0,onClick:Le,"prepend-icon":"mdi-book-open-variant",disabled:!Z.value},{default:a(()=>[t(re,null,{default:a(()=>[...e[32]||(e[32]=[i("Rezept anzeigen",-1)])]),_:1}),t(ue,null,{default:a(()=>[i(_(Z.value?"Zutaten und Zubereitung":"Kein Rezept-Link hinterlegt"),1)]),_:1})]),_:1},8,["disabled"])):H("",!0),t(G,{class:"my-2"}),t(ce,{onClick:e[9]||(e[9]=u=>{ne(g.value),s.value=!1}),"prepend-icon":"mdi-delete",class:"text-error"},{default:a(()=>[t(re,null,{default:a(()=>[...e[33]||(e[33]=[i("Mahlzeit löschen",-1)])]),_:1}),t(ue,null,{default:a(()=>[...e[34]||(e[34]=[i("Aus Einkaufsliste entfernen",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),Q.value>0?(n(),C(N,{key:2,color:"success",icon:"mdi-cart-plus",size:"large",position:"fixed",location:"bottom end",class:"mb-16 mr-4",elevation:"4",onClick:Ae},{default:a(()=>[t(Pe,{content:Q.value,color:"error",overlap:""},{default:a(()=>[t(f,null,{default:a(()=>[...e[35]||(e[35]=[i("mdi-cart-plus",-1)])]),_:1})]),_:1},8,["content"])]),_:1})):H("",!0)])}}},It=me(Ct,[["__scopeId","data-v-33868ece"]]);export{It as default};
